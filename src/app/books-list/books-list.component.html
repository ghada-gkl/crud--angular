<h2>{{titlr}}</h2>
<button class="btn btn-primary" (click)="changeAction('add')">ajouter livre</button>

  @if (action==="add") {
    <app-book-add [lastId]="books[books.length-1].id"
    (BookCreated)="addBook($event)"></app-book-add>
  }
  @if (action1 === 'edit' && selectedBook) { 
    <app-book-edit 
        [book]="selectedBook" [lastId]="books[books.length - 1].id" 
        (BookEdited)="onBookEdited($event)">
    </app-book-edit>
}

<table class="table table-stripped">
    <thead>
      <tr class="table-dark">
        <th scope="col">id</th>
        <th scope="col">titre</th>
        <th scope="col">auteur</th>
        <th scope="col">prix</th>
        <th scope="col">editer</th>
        <th scope="col">supprimer</th>
      </tr>
        @for (book of books; track $index) {
          <tr>
            <th scope="row">{{book.id}}</th>
            <td>{{book.title}}</td>
            <td>{{book.author}}</td>
            <td>{{book.price}}</td>
          <td><button class="btn btn-primary" (click)="editAction(book)">editer</button></td>
        <td><button class="btn btn-danger">supprimer</button></td></tr>
        }
     
    </thead>
    <tbody>
    </tbody>
  </table>